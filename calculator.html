<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã TP/SL –¥–ª—è –°–ø–æ—Ç–∞ –∏ –§—å—é—á–µ—Ä—Å–æ–≤</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f7f7;
      margin: 0;
      padding: 0;
    }
    header {
      background: #222;
      padding: 10px;
      text-align: center;
    }
    header a {
      color: #fff;
      text-decoration: none;
      font-size: 14px;
    }
    nav {
      background: #333;
    }
    nav ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      flex-wrap: wrap;
    }
    nav li {
      margin: 0;
    }
    nav a {
      display: block;
      padding: 10px 15px;
      color: white;
      text-decoration: none;
      font-size: 14px;
    }
    nav a:hover {
      background: #555;
    }
    main {
      max-width: 600px;
      margin: 20px auto;
      padding: 0 15px;
    }
    h1, h2 {
      text-align: center;
    }
    .calc-box {
      background: white;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      margin-top: 15px;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input[type="number"] {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
    }
    button {
      margin-top: 15px;
      padding: 10px;
      width: 100%;
      font-size: 15px;
      border: none;
      border-radius: 8px;
      background: #007bff;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
    .result {
      margin-top: 10px;
      background: #f0f0f0;
      padding: 8px;
      border-radius: 6px;
      font-size: 14px;
    }
    .slider-container {
      margin-top: 10px;
    }
    .slider-value {
      font-weight: bold;
    }
    .position-switch {
      display: flex;
      justify-content: space-between;
      margin-top: 15px;
    }
    .position-btn {
      flex: 1;
      padding: 10px;
      margin: 0 5px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      border: none;
      font-size: 15px;
      transition: background 0.2s;
    }
    .long-btn.active {
      background: #28a745;
      color: white;
    }
    .short-btn.active {
      background: #dc3545;
      color: white;
    }
    .long-btn {
      background: #e6f4ea;
      color: #28a745;
    }
    .short-btn {
      background: #fbeaea;
      color: #dc3545;
    }
  </style>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EEZSLT2L6C"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-EEZSLT2L6C');
</script>

<body>
  <header>
    <a href="https://www.binance.com/ru?ref=SITES" target="_blank">
      –¢–æ—Ä–≥–æ–≤–∞—Ç—å –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º–∏ –Ω–∞ BINANCE
    </a>
  </header>

  <nav>
    <ul>
      <li><a href="index.html">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</a></li>
      <li><a href="crypto-index.html">–ò–Ω–¥–µ–∫—Å –¢–æ–ø 500 –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç</a></li>
      <li><a href="minipc.html">–ú–∏–Ω–∏ –ü–ö –¥–ª—è —Ç—Ä–µ–π–¥–∏–Ω–≥–∞</a></li>
      <li><a href="converter.html">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç</a></li>
      <li><a href="elon.html">–ò–ª–æ–Ω –ú–∞—Å–∫ Twitter/X</a></li>
      <li><a href="qr.html">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR-–∫–æ–¥–æ–≤</a></li>
      <li><a href="chart.html">–ì—Ä–∞—Ñ–∏–∫ Bitcoin (BTC)</a></li>
      <li><a href="trading.html">–ö–ª—é—á —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞</a></li>
      <li><a href="calculator.html">TP/SL –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã</a></li>
    </ul>
  </nav>

  <main>
    <h1>TP/SL –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã</h1>

    <!-- üìå –°–ü–û–¢ -->
    <h2>–°–ø–æ—Ç</h2>
    <div class="calc-box">
      <label>–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞</label>
      <input type="number" id="spotEntry" placeholder="1.245" step="0.0001">

      <label>% –¢–µ–π–∫-–ü—Ä–æ—Ñ–∏—Ç–∞</label>
      <input type="number" id="spotTPPercent" placeholder="3" step="0.01">
      <button onclick="calcSpotTP()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¢–µ–π–∫-–ü—Ä–æ—Ñ–∏—Ç</button>
      <div class="result" id="spotTPResult"></div>

      <label>% –°—Ç–æ–ø-–õ–æ—Å—Å–∞</label>
      <input type="number" id="spotSLPercent" placeholder="2" step="0.01">
      <button onclick="calcSpotSL()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –°—Ç–æ–ø-–õ–æ—Å—Å</button>
      <div class="result" id="spotSLResult"></div>
    </div>

    <!-- üìå –§–¨–Æ–ß–ï–†–°–´ -->
    <h2>–§—å—é—á–µ—Ä—Å—ã</h2>
    <div class="calc-box">
      <label>–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞</label>
      <input type="number" id="futuresEntry" placeholder="1.245" step="0.0001">

      <div class="position-switch">
        <button id="longBtn" class="position-btn long-btn active" onclick="setPosition('long')">üü¢ –õ–æ–Ω–≥</button>
        <button id="shortBtn" class="position-btn short-btn" onclick="setPosition('short')">üî¥ –®–æ—Ä—Ç</button>
      </div>

      <div class="slider-container">
        <label>–ü–ª–µ—á–æ: <span id="leverageValue" class="slider-value">1x</span></label>
        <input type="range" id="leverageSlider" min="1" max="125" value="1" oninput="updateLeverage()">
      </div>

      <label>% –¢–µ–π–∫-–ü—Ä–æ—Ñ–∏—Ç–∞</label>
      <input type="number" id="futuresTPPercent" placeholder="1" step="0.01">
      <button onclick="calcFuturesTP()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¢–µ–π–∫-–ü—Ä–æ—Ñ–∏—Ç</button>
      <div class="result" id="futuresTPResult"></div>

      <label>% –°—Ç–æ–ø-–õ–æ—Å—Å–∞</label>
      <input type="number" id="futuresSLPercent" placeholder="0.5" step="0.01">
      <button onclick="calcFuturesSL()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –°—Ç–æ–ø-–õ–æ—Å—Å</button>
      <div class="result" id="futuresSLResult"></div>
    </div>
  </main>

  <script>
    // –°–ü–û–¢
    function calcSpotTP() {
      const entry = parseFloat(document.getElementById('spotEntry').value);
      const percent = parseFloat(document.getElementById('spotTPPercent').value);
      if (isNaN(entry) || isNaN(percent)) {
        document.getElementById('spotTPResult').textContent = '–í–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É –∏ –ø—Ä–æ—Ü–µ–Ω—Ç.';
        return;
      }
      const tpPrice = entry * (1 + percent / 100);
      document.getElementById('spotTPResult').textContent = `–¶–µ–Ω–∞ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞: ${tpPrice.toFixed(6)}`;
    }

    function calcSpotSL() {
      const entry = parseFloat(document.getElementById('spotEntry').value);
      const percent = parseFloat(document.getElementById('spotSLPercent').value);
      if (isNaN(entry) || isNaN(percent)) {
        document.getElementById('spotSLResult').textContent = '–í–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É –∏ –ø—Ä–æ—Ü–µ–Ω—Ç.';
        return;
      }
      const slPrice = entry * (1 - percent / 100);
      document.getElementById('spotSLResult').textContent = `–¶–µ–Ω–∞ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞: ${slPrice.toFixed(6)}`;
    }

    // –§–¨–Æ–ß–ï–†–°–´
    let positionType = 'long';
    function setPosition(type) {
      positionType = type;
      document.getElementById('longBtn').classList.toggle('active', type === 'long');
      document.getElementById('shortBtn').classList.toggle('active', type === 'short');
    }

    function updateLeverage() {
      const value = document.getElementById('leverageSlider').value;
      document.getElementById('leverageValue').textContent = `${value}x`;
    }

    function calcFuturesTP() {
      const entry = parseFloat(document.getElementById('futuresEntry').value);
      const percent = parseFloat(document.getElementById('futuresTPPercent').value);
      const leverage = parseFloat(document.getElementById('leverageSlider').value);
      if (isNaN(entry) || isNaN(percent) || isNaN(leverage)) {
        document.getElementById('futuresTPResult').textContent = '–í–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É –∏ –ø—Ä–æ—Ü–µ–Ω—Ç.';
        return;
      }
      const priceChange = percent / leverage;
      const tpPrice = positionType === 'long'
        ? entry * (1 + priceChange / 100)
        : entry * (1 - priceChange / 100);
      document.getElementById('futuresTPResult').textContent =
        `–¶–µ–Ω–∞ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ (${positionType === 'long' ? '–õ–æ–Ω–≥' : '–®–æ—Ä—Ç'}): ${tpPrice.toFixed(6)} (–¥–≤–∏–∂–µ–Ω–∏–µ ‚âà ${priceChange.toFixed(4)}%)`;
    }

    function calcFuturesSL() {
      const entry = parseFloat(document.getElementById('futuresEntry').value);
      const percent = parseFloat(document.getElementById('futuresSLPercent').value);
      const leverage = parseFloat(document.getElementById('leverageSlider').value);
      if (isNaN(entry) || isNaN(percent) || isNaN(leverage)) {
        document.getElementById('futuresSLResult').textContent = '–í–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É –∏ –ø—Ä–æ—Ü–µ–Ω—Ç.';
        return;
      }
      const priceChange = percent / leverage;
      const slPrice = positionType === 'long'
        ? entry * (1 - priceChange / 100)
        : entry * (1 + priceChange / 100);
      document.getElementById('futuresSLResult').textContent =
        `–¶–µ–Ω–∞ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ (${positionType === 'long' ? '–õ–æ–Ω–≥' : '–®–æ—Ä—Ç'}): ${slPrice.toFixed(6)} (–¥–≤–∏–∂–µ–Ω–∏–µ ‚âà ${priceChange.toFixed(4)}%)`;
    }
  </script>
</body>
</html>
