<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crypto Buy Signals | Binance USDT Trading</title>
<meta name="description" content="Real-time cryptocurrency buy signals for USDT pairs on Binance. Get alerts when RSI (5 min) drops below threshold. Trade smart and profit safely.">
<meta name="keywords" content="crypto signals, Binance, USDT, RSI signals, cryptocurrency trading, buy alerts, crypto alerts">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://yourdomain.com/">

<style>
body { font-family: Arial, sans-serif; background: #1a1a1a; color: #f0f0f0; margin:0; padding:0; }
header { background: #ff9900; color: #000; padding: 15px; text-align: center; font-size: 18px; font-weight: bold; }
header a { color: #000; text-decoration: none; }
.info { background: #222; padding: 10px; text-align: center; font-size: 14px; color: #ccc; }
table { width: 100%; border-collapse: collapse; margin-top: 20px; }
th, td { border: 1px solid #444; padding: 10px; text-align: center; }
th { background: #333; }
td { background: #222; }
.alert { color: #ff4d4d; font-weight: bold; }
</style>
</head>
<body>

<header>
    Trade Cryptocurrency on Binance! 
    <a href="https://www.binance.com/en?ref=OTHER" target="_blank">Join Here</a>
</header>

<div class="info">
    Keep this page open to receive real-time crypto buy signals.
</div>

<label style="display:block; text-align:center; margin-top:10px;">
  <input type="checkbox" id="notifyToggle"> Notify on new signals
</label>

<table id="signalsTable">
  <thead>
    <tr>
      <th>Coin</th>
      <th>Current Price (USDT)</th>
      <th>RSI (5m)</th>
      <th>Take Profit (+11%)</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<audio id="alertSound" src="https://www.soundjay.com/button/beep-07.wav"></audio>

<script>
const notifyToggle = document.getElementById('notifyToggle');
const tableBody = document.querySelector('#signalsTable tbody');
const alertSound = document.getElementById('alertSound');

let knownSignals = {};
const excludeStables = ['USDC','BUSD','DAI','TUSD','USDP','FDUSD'];

// ===== НАСТРОЙКИ RSI =====
const RSI_MIN = 1;       // отсечь шум 0.001–1
const RSI_MAX = 3.62;    // сигналы только ниже 3.62

async function fetchSymbols() {
    const res = await fetch('https://api.binance.com/api/v3/exchangeInfo');
    const data = await res.json();
    return data.symbols
        .filter(s =>
            s.quoteAsset === 'USDT' &&
            s.status === 'TRADING' &&
            !excludeStables.includes(s.baseAsset)
        )
        .map(s => s.symbol);
}

function calculateRSI(closes, period = 14) {
    if (closes.length < period) return null;

    let gains = 0;
    let losses = 0;

    for (let i = 1; i < period; i++) {
        const diff = closes[i] - closes[i - 1];
        if (diff >= 0) gains += diff;
        else losses -= diff;
    }

    const rs = gains / (losses || 1);
    return 100 - (100 / (1 + rs));
}

async function fetchRSI(symbol) {
    const res = await fetch(
        `https://api.binance.com/api/v3/klines?symbol=${symbol}&interval=5m&limit=15`
    );
    const data = await res.json();
    const closes = data.map(c => parseFloat(c[4]));
    return calculateRSI(closes);
}

async function fetchPrice(symbol) {
    const res = await fetch(
        `https://api.binance.com/api/v3/ticker/price?symbol=${symbol}`
    );
    const data = await res.json();
    return parseFloat(data.price);
}

async function updateSignals() {
    const symbols = await fetchSymbols();
    const newSignals = [];

    for (const symbol of symbols) {
        const rsi = await fetchRSI(symbol);

        // ФИЛЬТР ШУМА И ДИАПАЗОН СИГНАЛОВ
        if (
            rsi !== null &&
            rsi >= RSI_MIN &&
            rsi < RSI_MAX
        ) {
            const price = await fetchPrice(symbol);
            const takeProfit = (price * 1.11).toFixed(4);

            newSignals.push({
                symbol,
                price: price.toFixed(6),
                rsi: rsi.toFixed(2),
                takeProfit
            });
        }
    }

    renderTable(newSignals);

    if (notifyToggle.checked) {
        for (const s of newSignals) {
            if (!knownSignals[s.symbol]) {
                alertSound.play();
            }
            knownSignals[s.symbol] = true;
        }
    }
}

function renderTable(signals) {
    tableBody.innerHTML = '';

    if (signals.length === 0) {
        tableBody.innerHTML =
            '<tr><td colspan="4" class="alert">No coins meet the RSI condition now. Waiting for new signals...</td></tr>';
        return;
    }

    for (const s of signals) {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${s.symbol}</td>
            <td>${s.price}</td>
            <td>${s.rsi}</td>
            <td>${s.takeProfit}</td>
        `;
        tableBody.appendChild(row);
    }
}

updateSignals();
setInterval(updateSignals, 30000);
setInterval(() => location.reload(), 300000);
</script>

</body>
</html>
