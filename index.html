/<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Калькулятор сложного процента</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="header"></div>
  <div id="sidebar"></div>
  
  <main>
    <h1>Калькулятор сложного процента</h1>

    <div class="calc-row">
      <label>Начальная сумма ($):</label>
      <input type="number" id="principal" placeholder="1000">

      <label>Процент за сделку (%):</label>
      <input type="number" id="rate" placeholder="1">

      <label>Количество сделок:</label>
      <input type="number" id="trades" placeholder="10">

      <button onclick="calculate()">Рассчитать</button>
    </div>

    <table id="resultsTable">
      <thead>
        <tr>
          <th>Сделка</th>
          <th>Прибыль</th>
        </tr>
      </thead>
      <tbody id="resultsBody"></tbody>
    </table>
  </main>

  <script>
    function calculate() {
      const principal = parseFloat(document.getElementById('principal').value);
      const rate = parseFloat(document.getElementById('rate').value) / 100;
      const trades = parseInt(document.getElementById('trades').value);

      if (isNaN(principal) || isNaN(rate) || isNaN(trades)) {
        alert('Введите корректные значения');
        return;
      }

      let amount = principal;
      const resultsBody = document.getElementById('resultsBody');
      resultsBody.innerHTML = '';

      for (let i = 1; i <= trades; i++) {
        amount += amount * rate;
        const formattedAmount = Math.floor(amount).toLocaleString('ru-RU'); // округляем до целых и форматируем
        const row = document.createElement('tr');
        row.innerHTML = `<td>${i}</td><td>$${formattedAmount}</td>`;
        resultsBody.appendChild(row);
      }
    }
  </script>
  </main>

  <script>
    // Подгружаем header и sidebar
    fetch('header.html')
      .then(res => res.text())
      .then(data => document.getElementById('header').innerHTML = data);

    fetch('sidebar.html')
      .then(res => res.text())
      .then(data => document.getElementById('sidebar').innerHTML = data);
  </script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EEZSLT2L6C"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KH63Z4DFJ2');
</script>

</body>
</html>
