<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Binance Rebalance Pair Finder</title>
  <style>
    body { font-family: Arial; background:#111; color:#eee; }
    table { border-collapse: collapse; width: 100%; }
    td, th { border:1px solid #444; padding:6px; }
    th { background:#222; }
  </style>
</head>
<body>

<h2>Rebalance Pair Scanner (3% TP)</h2>
<button onclick="scan()">Scan Market</button>

<table id="result">
  <tr>
    <th>Symbol</th>
    <th>24h %</th>
    <th>Volume (USDT)</th>
  </tr>
</table>

<script>
async function scan() {
  const res = await fetch(
    'https://api.binance.com/api/v3/ticker/24hr'
  );
  const data = await res.json();

  const pairs = data
    .filter(p =>
      p.symbol.endsWith('USDT') &&
      parseFloat(p.quoteVolume) > 200_000_000
    )
    .map(p => ({
      symbol: p.symbol,
      change: parseFloat(p.priceChangePercent),
      volume: parseFloat(p.quoteVolume)
    }));

  const gainers = pairs
    .filter(p => p.change > 15 && p.change < 40)
    .sort((a,b) => b.change - a.change)
    .slice(0,5);

  const losers = pairs
    .filter(p => p.change < -8 && p.change > -30)
    .sort((a,b) => a.change - b.change)
    .slice(0,5);

  const table = document.getElementById('result');
  table.innerHTML = `
    <tr>
      <th>Symbol</th>
      <th>24h %</th>
      <th>Volume</th>
    </tr>
  `;

  [...gainers, ...losers].forEach(p => {
    const row = table.insertRow();
    row.insertCell().innerText = p.symbol;
    row.insertCell().innerText = p.change.toFixed(2);
    row.insertCell().innerText =
      (p.volume/1e6).toFixed(1) + 'M';
  });
}
</script>

</body>
</html>
